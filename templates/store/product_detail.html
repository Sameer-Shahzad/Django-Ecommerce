{% extends 'base.html' %}
{% load static %}
{% block content %}

<section class="py-10 bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4">

        <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100">
            <div class="flex flex-col md:flex-row">
                
                <aside class="md:w-5/12 bg-white p-8 flex items-center justify-center border-r border-gray-50">
                    <div class="overflow-hidden rounded-lg">
                        <img src="{{ single_product.product_image.url }}" alt="Product Image" class="max-w-full h-auto object-cover transform hover:scale-105 transition duration-300">
                    </div>
                </aside>

                <main class="md:w-7/12 p-8 lg:p-12">
                    <form method="get" action="{% url 'add_cart' single_product.id %}">
                        
                        <article>
                            <h2 class="text-3xl font-bold text-gray-800 mb-4">{{ single_product.product_name }}</h2>

                            <div class="mb-6"> 
                                <span class="text-2xl font-bold text-blue-600">${{ single_product.price }}</span> 
                            </div> 
                            

                            <p class="text-gray-600 leading-relaxed mb-8">
                            {{ single_product.description }}
                            </p>

                            <hr class="my-6 border-gray-100">

                            <div class="mb-6">
                                <h6 class="text-sm font-bold text-gray-700 uppercase tracking-wider mb-3">Choose Color</h6>
                                <select name="color" class="border rounded p-2 text-sm w-1/2" required>
                                    <option value=" " disabled selected>Choose Color</option>
                                    {% for i in single_product.variation_set.all %}
                                    <option value="{{ i.variation_value }}">{{ i.variation_value }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="mb-8">
                                <h6 class="text-sm font-bold text-gray-700 uppercase tracking-wider mb-3">Select Size</h6>
                                {% comment %} <div class="flex flex-wrap gap-2">
                                    <select name="size" class="border rounded p-2 text-sm w-1/2">
                                        <option value="small">Small</option>
                                        <option value="medium">Medium</option>
                                        <option value="large">Large</option>
                                        <option value="xlarge">X-Large</option>
                                    </select>
                                </div> {% endcomment %}
                            </div>
                            {% if single_product.stock <= 0 %}
                                <div class="text-red-600 mb-6 font-bold text-lg">
                                    <p>Out of Stock</p>
                                </div>
                            {% else %}
                                {% if in_cart %}
                                    <a href="#" class="inline-flex items-center justify-center bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-bold shadow-lg cursor-default opacity-90 transition">
                                        <span class="mr-2">Added to Cart âœ”</span>
                                    </a>

                                    <a href="{% url 'cart' %}" class="mx-3 inline-flex items-center justify-center bg-transparent border-2 border-blue-500 text-blue-500 hover:text-blue-700 hover:border-blue-700 px-9 py-3 rounded-lg font-bold transition-all duration-300">
                                        <span class="mr-2">View Cart ðŸ›’</span>
                                    </a>
                                {% else %}
                                    <button type="submit" class="inline-flex items-center justify-center bg-blue-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-blue-700 transition shadow-lg shadow-blue-200">
                                        <span class="mr-2">Add to cart</span>
                                        <i class="fas fa-shopping-cart"></i>
                                    </button>
                                {% endif %}
                            {% endif %}
                        </article> 
                    </form>
                </main> 
            </div> 
        </div> 

        <div class="mt-12 max-w-4xl">
            <header class="mb-6">
                <h3 class="text-xl font-bold text-gray-800">Customer Reviews</h3>  
            </header>

            <article class="p-6 bg-white rounded-lg border border-gray-100 shadow-sm mb-4">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                        <img src="{% static 'images/avatars/avatar1.jpg' %}" class="w-10 h-10 rounded-full mr-3 border border-gray-200">
                        <div>
                            <h6 class="font-bold text-gray-800 text-sm">Mike John</h6>
                            <span class="text-xs text-gray-400">24.04.2020</span>
                        </div>
                    </div>
                </div>
                <div class="text-gray-600 text-sm leading-relaxed italic">
                    "Dummy comment Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
                </div>
            </article>
        </div>

    </div> 
</section>

{% endblock %}